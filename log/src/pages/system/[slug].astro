---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const notes = await getCollection('system');
  return notes.map(note => ({
    params: { slug: note.slug },
    props: { note },
  }));
}

const { note } = Astro.props;
const { Content } = await note.render();
---

<Layout 
  title={note.data.title}
  description={note.data.description}
  canonical={note.data.canonical}
  type={note.data.type}
>
  <div class="max-w-3xl mx-auto p-6 md:p-12">
      <a href="/" class="text-zinc-500 hover:text-white mb-8 inline-flex items-center text-sm font-medium transition-colors">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
      Back to Dashboard
    </a>
    
    <article class="prose prose-zinc prose-invert prose-lg max-w-none">
      <div class="mb-10 pb-6 border-b border-zinc-800">
          <h1 class="text-4xl font-extrabold tracking-tight text-white mb-4">{note.data.title}</h1>
          {note.data.pubDate && (
              <div class="text-zinc-500">{note.data.pubDate.toLocaleDateString()}</div>
          )}
      </div>
      
      <Content />
    </article>
  </div>
</Layout>
